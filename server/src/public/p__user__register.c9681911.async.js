(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8803],{17052:function(A){A.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},34442:function(){},7104:function(){},70350:function(){},90434:function(A,E,e){"use strict";e.r(E),e.d(E,{default:function(){return i}});var u=e(13062),c=e(71230),j=e(57663),S=e(71577),a=e(89032),V=e(15746),de=e(20136),ve=e(55241),Pe=e(34669),k=e(54458),ye=e(34792),re=e(48086),$=e(2824),_e=e(47673),L=e(4107),fe=e(43358),ae=e(34041),Oe=e(9715),q=e(71257),G=e(67294),ee=e(38563),me=e(73727),oe=e(39428),ge=e(3182);function Ce(s){return te.apply(this,arguments)}function te(){return te=(0,ge.Z)((0,oe.Z)().mark(function s(l){return(0,oe.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,ee.WY)("/api/register",{method:"POST",data:l}));case 1:case"end":return g.stop()}},s)})),te.apply(this,arguments)}var ie=e(17052),P=e.n(ie),n=e(85893),W=q.Z.Item,le=ae.Z.Option,Q=L.Z.Group,pe={ok:(0,n.jsx)("div",{className:P().success,children:(0,n.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,n.jsx)("div",{className:P().warning,children:(0,n.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,n.jsx)("div",{className:P().error,children:(0,n.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},t={ok:"success",pass:"normal",poor:"exception"},o=function(){var l=(0,G.useState)(0),R=(0,$.Z)(l,2),g=R[0],_=R[1],F=(0,G.useState)(!1),f=(0,$.Z)(F,2),B=f[0],T=f[1],K=(0,G.useState)("86"),N=(0,$.Z)(K,2),J=N[0],O=N[1],v=(0,G.useState)(!1),x=(0,$.Z)(v,2),M=x[0],z=x[1],Z=!1,I,D=q.Z.useForm(),C=(0,$.Z)(D,1),h=C[0];(0,G.useEffect)(function(){return function(){clearInterval(I)}},[I]);var U=function(){var r=59;_(r),I=window.setInterval(function(){r-=1,_(r),r===0&&clearInterval(I)},1e3)},X=function(){var r=h.getFieldValue("password");return r&&r.length>9?"ok":r&&r.length>5?"pass":"poor"},b=(0,ee.QT)(Ce,{manual:!0,onSuccess:function(r,m){r.status==="ok"&&(re.ZP.success("\u6CE8\u518C\u6210\u529F\uFF01"),ee.m8.push({pathname:"/user/register-result",state:{account:m.email}}))}}),ne=b.loading,Ee=b.run,ue=function(r){Ee(r)},se=function(r,m){var w=Promise;return m&&m!==h.getFieldValue("password")?w.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):w.resolve()},xe=function(r,m){var w=Promise;return m?(B||T(!!m),z(!M),m.length<6?w.reject(""):(m&&Z&&h.validateFields(["confirm"]),w.resolve())):(T(!!m),w.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},he=function(r){O(r)},ce=function(){var r=h.getFieldValue("password"),m=X();return r&&r.length?(0,n.jsx)("div",{className:P()["progress-".concat(m)],children:(0,n.jsx)(k.Z,{status:t[m],className:P().progress,strokeWidth:6,percent:r.length*10>100?100:r.length*10,showInfo:!1})}):null};return(0,n.jsxs)("div",{className:P().main,children:[(0,n.jsx)("h3",{children:"\u6CE8\u518C"}),(0,n.jsxs)(q.Z,{form:h,name:"UserRegister",onFinish:ue,children:[(0,n.jsx)(W,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,n.jsx)(L.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,n.jsx)(ve.Z,{getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},content:B&&(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[pe[X()],ce(),(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:B,children:(0,n.jsx)(W,{name:"password",className:h.getFieldValue("password")&&h.getFieldValue("password").length>0&&P().password,rules:[{validator:xe}],children:(0,n.jsx)(L.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,n.jsx)(W,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:se}],children:(0,n.jsx)(L.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,n.jsxs)(Q,{compact:!0,children:[(0,n.jsxs)(ae.Z,{size:"large",value:J,onChange:he,style:{width:"20%"},children:[(0,n.jsx)(le,{value:"86",children:"+86"}),(0,n.jsx)(le,{value:"87",children:"+87"})]}),(0,n.jsx)(W,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,n.jsx)(L.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,n.jsxs)(c.Z,{gutter:8,children:[(0,n.jsx)(V.Z,{span:16,children:(0,n.jsx)(W,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,n.jsx)(L.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,n.jsx)(V.Z,{span:8,children:(0,n.jsx)(S.Z,{size:"large",disabled:!!g,className:P().getCaptcha,onClick:U,children:g?"".concat(g," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,n.jsxs)(W,{children:[(0,n.jsx)(S.Z,{size:"large",loading:ne,className:P().submit,type:"primary",htmlType:"submit",children:(0,n.jsx)("span",{children:"\u6CE8\u518C"})}),(0,n.jsx)(me.rU,{className:P().login,to:"/user/login",children:(0,n.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})},i=o},15746:function(A,E,e){"use strict";var u=e(21584);E.Z=u.Z},89032:function(A,E,e){"use strict";var u=e(38663),c=e.n(u),j=e(6999)},9715:function(A,E,e){"use strict";var u=e(38663),c=e.n(u),j=e(34442),S=e.n(j),a=e(6999),V=e(22385)},4107:function(A,E,e){"use strict";e.d(E,{Z:function(){return pe}});var u=e(22122),c=e(96156),j=e(94184),S=e.n(j),a=e(67294),V=e(53124),de=e(65223),ve=function(o){var i,s=(0,a.useContext)(V.E_),l=s.getPrefixCls,R=s.direction,g=o.prefixCls,_=o.className,F=_===void 0?"":_,f=l("input-group",g),B=S()(f,(i={},(0,c.Z)(i,"".concat(f,"-lg"),o.size==="large"),(0,c.Z)(i,"".concat(f,"-sm"),o.size==="small"),(0,c.Z)(i,"".concat(f,"-compact"),o.compact),(0,c.Z)(i,"".concat(f,"-rtl"),R==="rtl"),i),F),T=(0,a.useContext)(de.aM),K=(0,a.useMemo)(function(){return(0,u.Z)((0,u.Z)({},T),{isFormItemInput:!1})},[T]);return a.createElement("span",{className:B,style:o.style,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onFocus:o.onFocus,onBlur:o.onBlur},a.createElement(de.aM.Provider,{value:K},o.children))},Pe=ve,k=e(89802),ye=e(28481),re=e(90484),$=e(88633),_e=e(95357),L=e(98423),fe=e(42550),ae=e(72922),Oe=function(t,o){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)o.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i},q=function(o){return o?a.createElement(_e.Z,null):a.createElement($.Z,null)},G={click:"onClick",hover:"onMouseOver"},ee=a.forwardRef(function(t,o){var i=t.visibilityToggle,s=i===void 0?!0:i,l=(0,re.Z)(s)==="object"&&s.visible!==void 0,R=(0,a.useState)(function(){return l?s.visible:!1}),g=(0,ye.Z)(R,2),_=g[0],F=g[1],f=(0,a.useRef)(null);a.useEffect(function(){l&&F(s.visible)},[l,s]);var B=(0,ae.Z)(f),T=function(){var O=t.disabled;O||(_&&B(),F(function(v){var x,M=!v;return(0,re.Z)(s)==="object"&&((x=s.onVisibleChange)===null||x===void 0||x.call(s,M)),M}))},K=function(O){var v,x=t.action,M=x===void 0?"click":x,z=t.iconRender,Z=z===void 0?q:z,I=G[M]||"",D=Z(_),C=(v={},(0,c.Z)(v,I,T),(0,c.Z)(v,"className","".concat(O,"-icon")),(0,c.Z)(v,"key","passwordIcon"),(0,c.Z)(v,"onMouseDown",function(U){U.preventDefault()}),(0,c.Z)(v,"onMouseUp",function(U){U.preventDefault()}),v);return a.cloneElement(a.isValidElement(D)?D:a.createElement("span",null,D),C)},N=function(O){var v=O.getPrefixCls,x=t.className,M=t.prefixCls,z=t.inputPrefixCls,Z=t.size,I=Oe(t,["className","prefixCls","inputPrefixCls","size"]),D=v("input",z),C=v("input-password",M),h=s&&K(C),U=S()(C,x,(0,c.Z)({},"".concat(C,"-").concat(Z),!!Z)),X=(0,u.Z)((0,u.Z)({},(0,L.Z)(I,["suffix","iconRender","visibilityToggle"])),{type:_?"text":"password",className:U,prefixCls:D,suffix:h});return Z&&(X.size=Z),a.createElement(k.ZP,(0,u.Z)({ref:(0,fe.sQ)(o,f)},X))};return a.createElement(V.C,null,N)}),me=ee,oe=e(76570),ge=e(71577),Ce=e(97647),te=e(4173),ie=e(96159),P=function(t,o){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)o.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i},n=a.forwardRef(function(t,o){var i,s=t.prefixCls,l=t.inputPrefixCls,R=t.className,g=t.size,_=t.suffix,F=t.enterButton,f=F===void 0?!1:F,B=t.addonAfter,T=t.loading,K=t.disabled,N=t.onSearch,J=t.onChange,O=t.onCompositionStart,v=t.onCompositionEnd,x=P(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),M=a.useContext(V.E_),z=M.getPrefixCls,Z=M.direction,I=a.useContext(Ce.Z),D=a.useRef(!1),C=z("input-search",s),h=z("input",l),U=(0,te.ri)(C,Z),X=U.compactSize,b=X||g||I,ne=a.useRef(null),Ee=function(d){d&&d.target&&d.type==="click"&&N&&N(d.target.value,d),J&&J(d)},ue=function(d){var y;document.activeElement===((y=ne.current)===null||y===void 0?void 0:y.input)&&d.preventDefault()},se=function(d){var y,Y;N&&N((Y=(y=ne.current)===null||y===void 0?void 0:y.input)===null||Y===void 0?void 0:Y.value,d)},xe=function(d){D.current||se(d)},he=typeof f=="boolean"?a.createElement(oe.Z,null):null,ce="".concat(C,"-button"),p,r=f||{},m=r.type&&r.type.__ANT_BUTTON===!0;m||r.type==="button"?p=(0,ie.Tm)(r,(0,u.Z)({onMouseDown:ue,onClick:function(d){var y,Y;(Y=(y=r==null?void 0:r.props)===null||y===void 0?void 0:y.onClick)===null||Y===void 0||Y.call(y,d),se(d)},key:"enterButton"},m?{className:ce,size:b}:{})):p=a.createElement(ge.Z,{className:ce,type:f?"primary":void 0,size:b,disabled:K,key:"enterButton",onMouseDown:ue,onClick:se,loading:T,icon:he},f),B&&(p=[p,(0,ie.Tm)(B,{key:"addonAfter"})]);var w=S()(C,(i={},(0,c.Z)(i,"".concat(C,"-rtl"),Z==="rtl"),(0,c.Z)(i,"".concat(C,"-").concat(b),!!b),(0,c.Z)(i,"".concat(C,"-with-button"),!!f),i),R),Me=function(d){D.current=!0,O==null||O(d)},Ze=function(d){D.current=!1,v==null||v(d)};return a.createElement(k.ZP,(0,u.Z)({ref:(0,fe.sQ)(ne,o),onPressEnter:xe},x,{size:b,onCompositionStart:Me,onCompositionEnd:Ze,prefixCls:h,addonAfter:p,suffix:_,onChange:Ee,className:w,disabled:K}))}),W=n,le=e(94418),Q=k.ZP;Q.Group=Pe,Q.Search=W,Q.TextArea=le.Z,Q.Password=me;var pe=Q},47673:function(A,E,e){"use strict";var u=e(38663),c=e.n(u),j=e(7104),S=e.n(j),a=e(57663)},34669:function(A,E,e){"use strict";var u=e(38663),c=e.n(u),j=e(70350),S=e.n(j)},71230:function(A,E,e){"use strict";var u=e(92820);E.Z=u.Z},13062:function(A,E,e){"use strict";var u=e(38663),c=e.n(u),j=e(6999)}}]);
